create table qq_group
(
    id   varchar(20) primary key not null,
    name varchar(20)             not null
);
create table plugin
(
    id   varchar(20) primary key not null,
    name varchar(20)             not null,
    des  varchar(100)
);
create table group_plugin
(
    group_id  varchar(20) not null,
    plugin_id varchar(20) not null,
    enabled   integer default 0,
    primary key (group_id, plugin_id)
);
insert into plugin (id, name, des)
values ('20210108', 'jap', '日语相关插件');

insert into plugin(id, name, des)
values ('20210602', 'gvg', '公会战插件');

create table jap_words
(
    id        integer primary key autoincrement not null,
    word      varchar(20)                       not null,
    pseudonym varchar(100)                      not null,
    chinese   varchar(100)                      not null,
    type      varchar(100)                      not null,
    insertTag integer default 0 not null

);
create table battle_boss
(
    id         varchar(32) primary key not null,
    name       varchar(200)            not null,
    hp_max     integer                 not null,
    boss_order integer                 not null
);
insert into battle_boss(id, name, hp_max, boss_order)
values ('36d2bae162cb4ef9a17fe559f458b748', '小龙', 6000000, 1),
       ('37f54490aa934834a32857f0697aad42', '小熊', 8000000, 2),
       ('abbb996a5bee4177b58a3493a2e46485', '小猪', 10000000, 3),
       ('44e9575814dc4718883a67a55bd3340f', '小鹿', 12000000, 4),
       ('65b0284cd85549f68cd0bb6107224fdf', '两只小猪', 15000000, 5);
create table battle_stage
(
    id       integer primary key not null,
    boss1_id varchar(32)         not null,
    boss2_id varchar(32)         not null,
    boss3_id varchar(32)         not null,
    boss4_id varchar(32)         not null,
    boss5_id varchar(32)         not null
);
insert into battle_stage(id, boss1_id, boss2_id, boss3_id, boss4_id, boss5_id)
values (1, '36d2bae162cb4ef9a17fe559f458b748', '37f54490aa934834a32857f0697aad42', 'abbb996a5bee4177b58a3493a2e46485',
        '44e9575814dc4718883a67a55bd3340f', '65b0284cd85549f68cd0bb6107224fdf');



create table now_boss
(
    now_id      integer primary key autoincrement not null,
    boss_id     varchar(32)                       not null,
    boss_name   varchar(200)                      not null,
    group_id    varchar(20)                       not null,
    hp_now      integer                           not null,
    boss_order  integer                           not null,--顺序
    boss_rounds integer                           not null,--轮次，表示第几周目
    now_stage   integer                           not null --表示第几阶段
);

create table battle_group
(
    group_id   varchar(20) primary key not null,
    group_name varchar(200)            not null
);

create table battle_user
(
    qq_id        varchar(20) primary key not null,
    nickname     varchar(20) primary key not null,--冗余字段，暂时保留
    group_id     varchar(200)            not null,
    damage_times double                  not null --今日剩余刀数，每天五点更新
);

create table battle_damage
(
    id          integer primary key autoincrement not null,
    group_id    varchar(20)                       not null,
    qq_id       varchar(20)                       not null,
    boss_id     varchar(32)                       not null,
    damage      integer                           not null,
    now_boss_id integer                           not null
)

